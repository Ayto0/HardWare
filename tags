local textChatService = game:GetService("TextChatService")

textChatService.OnIncomingMessage = function(message)
    local properties = Instance.new("TextChatMessageProperties")

    if message.TextSource then
        local player = game:GetService("Players"):GetPlayerByUserId(message.TextSource.UserId)

        if player then
            if player.UserId == game.Players.LocalPlayer.UserId then
                local prefixText = "[HardWare User â˜„ï¸ ğŸƒ ğŸŒº] "

                if player.Name == "CreatorKyto" or player.Name == "AytoHard" then
                    prefixText = "[HardWare Aytoâ˜„ï¸ ğŸƒ ğŸŒº] "
                end

				if player.Name == "OnAyto3" or player.Name == "AytoisHard" or player.Name == "AytoAuditorium" or player.Name == "CreatorKyto2" or player.Name == "CreatorKyto3" then
                    prefixText = "[HardWare Ayto Altâ˜„ï¸ ğŸƒ ğŸŒº] "
                end

				if player.Name == "UseKaiV4" then
                    prefixText = "[Zyla ğŸŒŒğŸŒ ]"
                end

                if plrtag then
                    local playerTags = ""
                    for i, v in pairs(plrtag) do 
                        playerTags = "[" .. v.text .. "] " .. playerTags
                    end
                    prefixText = playerTags .. prefixText
                end

                local clanTag = player:GetAttribute("ClanTag")
                if clanTag then 
                    prefixText = "[" .. clanTag .. "] " .. prefixText
                end

                properties.PrefixText = prefixText
            end
        end
    end

    return properties
end
